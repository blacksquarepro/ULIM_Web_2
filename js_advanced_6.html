<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Advanced 6</title>

    <style>
        [data-component="slideshow"] .slide {
            display: none;
            text-align: center;
        }

        [data-component="slideshow"] .slide.active {
            display: block;
        }
    </style>
</head>

<body>
    <div id="slideshow-example" data-component="slideshow">
        <div role="list">
            <div class="slide">
                <img src="https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=752&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D"
                    alt="">
            </div>
            <div class="slide">
                <img src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=750&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D"
                    alt="">
            </div>
            <div class="slide">
                <img src="https://images.unsplash.com/photo-1498753427761-548428edfa67?w=889&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D"
                    alt="">
            </div>
        </div>
        
    </div>
    <div class="slideshow-controls">
        <select name="slideshow-timing" id="slideshow-timing">
            <option value="1000">1 sec</option>
            <option value="2000">2 sec</option>
            <option value="3000">3 sec</option>
            <option value="4000">4 sec</option>
            <option value="5000">5 sec</option>
        </select>
        <div>
            <input type="checkbox" id="wrap-slideshow" name="wrap" value="wrap-slideshow" checked>
            <label for="wrap-slideshow">Wrap from last to first?</label>
        </div>
        <button type="button" onclick="getTime()">Set Option</button>
    </div>

    <script>

        function getTime(){
            let selectedOptionIndex = document.getElementById("slideshow-timing").selectedIndex;
            let slideTime = document.getElementsByTagName("option")[selectedOptionIndex].value;
            console.log(slideTime);
        }

        let slideshows = document.querySelectorAll('[data-component="slideshow"]');
        slideshows.forEach(initSlideShow);        

        function initSlideShow(slideshow) {

            let slides = document.querySelectorAll(`#${slideshow.id} [role="list"] .slide`);

            let index = 0, time = 3000;
            slides[index].classList.add('active');

            setInterval(() => {
                slides[index].classList.remove('active');

                index++;
                if (index === slides.length) index = 0;

                slides[index].classList.add('active');

            }, time);
        }
    </script>
</body>

</html>